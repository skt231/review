<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        console.log("HELLO!!!...")
        setTimeout(() => {
            console.log("...are you still there?")
        }, 3000)

        console.log("GOODBYE!!")


        const id = setInterval(() => {
            console.log(Math.random())
        }, 2000);

        clearInterval(id);

        // filter
        const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20];
        numbers.filter(n => {
            return n < 10
        })


        const movies = [
            {
                title: 'Amadeus',
                score: 99,
                year: 1984
            },
            {
                title: 'Sharknado',
                score: 35,
                year: 2013
            },
            {
                title: '13 Going On 30',
                score: 70,
                year: 2004
            },
            {
                title: 'Stand By Me',
                score: 85,
                year: 1986
            },
            {
                title: 'Waterworld',
                score: 62,
                year: 1995
            },
            {
                title: 'Jingle All The Way',
                score: 71,
                year: 1996
            },
            {
                title: 'Parasite',
                score: 95,
                year: 2019
            },
            {
                title: 'Notting Hill',
                score: 77,
                year: 1999
            },
            {
                title: 'Alien',
                score: 90,
                year: 1979
            }
        ]



        const badMovies = movies.filter(m => m.score < 70)

        const recentMovies = movies.filter(m => m.year > 2000)

        // const goodMovies = movies.filter(m => m.score > 80)
        // const goodTitles = goodMovies.map(m => m.title)

        movies.filter(m => m.score > 80).map(m => m.title);
        //some__every
        //참이나 거짓을 반환
        const exams = [80, 98, 92, 78, 77, 90, 89, 84, 81, 77]

        exams.every(score => score >= 75)


        movies.some(movie => movie.year > 2015)

        const allEvans = numbers => numbers.every(num => num % 2 == 0);

        //REDUCE
        const prices = [9.99, 1.50, 19.99, 49.99, 30.50];

        let total = 0;
        // for (let price of prices) {
        //     total += price
        // }
        // console.log(total)

        // const total = prices.reduce((total, price) => {
        //     return total + price
        // })
        total = prices.reduce((total, price) => {
            return total + price
        })
        const minPrice = prices.reduce((min, price) => {
            if (price < min) {
                return price;
            }
            return min;
        })
        const highestRated = movies.reduce((bestMovie, currMovie) => {
            if (currMovie.score > bestMovie.score) {
                return currMovie;
            }
            return bestMovie;
        })


        // We can provide an initial value as the 2nd arg to reduce:
        const evens = [2, 4, 6, 8];
        evens.reduce((sum, num) => sum + num) //20
        evens.reduce((sum, num) => sum + num, 100) //120
        //etc...
        const person = {
            firstName: 'Viggo',
            lastName: 'Mortensen',
            fullName: function () {
                return `${this.firstName} ${this.lastName}`
            },
            shoutName: function () {
                // // setTimeout 메소드는 window안에 있으므로 this 는 window임
                // setTimeout (function(){
                //     console.log(this);
                //     console.log(this.fullName);
                // })
                setTimeout(() => {
                    //keyword 'this' in arrow functions refers to the value of 'this' when the function is created
                    console.log(this);
                    console.log(this.fullName())
                }, 3000)
            }
        }
            // 여기서 this.는 window를 가리키므로 undifined가 나옴
            // fullName: () => (`${person.firstName} ${this.lastName}`)


    </script>
</body>

</html>